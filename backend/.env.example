# =============================================================================
# OmoiOS Backend Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values
# For local overrides, create .env.local (highest priority)
#
# Priority order: .env.local > .env > environment variables > config/*.yaml
# =============================================================================

# -----------------------------------------------------------------------------
# LLM / AI Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Primary LLM API key (Fireworks AI, OpenAI-compatible)
LLM_API_KEY=

# Fireworks AI API key for model inference (used by PydanticAI for structured outputs)
# Note: uses LLM_ prefix because of pydantic-settings config
LLM_FIREWORKS_API_KEY=

# Optional: OpenAI API key (for embeddings or direct OpenAI usage)
OPENAI_API_KEY=

# Optional: Anthropic API key (for Claude direct access)
ANTHROPIC_API_KEY=

# Optional: Pydantic AI Gateway API key
PYDANTIC_AI_GATEWAY_API_KEY=

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection URL
# Default for local Docker: postgresql+psycopg://postgres:postgres@localhost:15432/app_db
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:15432/app_db

# Test database URL (for running tests)
DATABASE_URL_TEST=postgresql+psycopg://postgres:postgres@localhost:15432/app_db

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection URL
# Default for local Docker: redis://localhost:16379
REDIS_URL=redis://localhost:16379

# Test Redis URL
REDIS_URL_TEST=redis://localhost:16379

# -----------------------------------------------------------------------------
# Supabase Configuration (Optional - for auth/storage)
# -----------------------------------------------------------------------------
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_DB_URL=

# -----------------------------------------------------------------------------
# Authentication / Security
# -----------------------------------------------------------------------------
# JWT secret key - CHANGE THIS IN PRODUCTION
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=dev-secret-key-change-in-production

# -----------------------------------------------------------------------------
# GitHub Integration (Optional)
# -----------------------------------------------------------------------------
# Personal access token for GitHub API
GITHUB_TOKEN=

# -----------------------------------------------------------------------------
# Observability (Optional)
# -----------------------------------------------------------------------------
# Logfire token for observability/tracing
LOGFIRE_TOKEN=

# -----------------------------------------------------------------------------
# Environment Selection
# -----------------------------------------------------------------------------
# Options: local, development, staging, production
# Controls which config/*.yaml file is loaded
OMOIOS_ENV=local

# -----------------------------------------------------------------------------
# Worker Configuration (for Docker)
# -----------------------------------------------------------------------------
# Agent ID for worker instances
AGENT_ID=00000000-0000-0000-0000-000000000001

# Worker workspace directory
WORKSPACE_DIR=/tmp/omoi_workspace

# Phase ID for worker
PHASE_ID=PHASE_IMPLEMENTATION

# -----------------------------------------------------------------------------
# MCP Server Configuration (Optional)
# -----------------------------------------------------------------------------
MCP_SERVER_URL=http://localhost:18000/mcp

# -----------------------------------------------------------------------------
# OAuth Configuration (for social login)
# -----------------------------------------------------------------------------
# GitHub OAuth - Create at: https://github.com/settings/developers
AUTH_GITHUB_CLIENT_ID="Ov23lin1294IImhbsPHk"
AUTH_GITHUB_CLIENT_SECRET="8883962488cc353f3f0b37c6b84fa5b6dc2bc056"

# Google OAuth - Create at: https://console.cloud.google.com/apis/credentials
AUTH_GOOGLE_CLIENT_ID=12508644204-os62e1jga96kcfqri8oinp1j5c73kia9.apps.googleusercontent.com
AUTH_GOOGLE_CLIENT_SECRET=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

# GitLab OAuth - Create at: https://gitlab.com/-/profile/applications
AUTH_GITLAB_CLIENT_ID=
AUTH_GITLAB_CLIENT_SECRET=

# OAuth redirect URI (frontend callback URL - where user is sent after OAuth)
AUTH_OAUTH_REDIRECT_URI=http://localhost:3000/callback

# OAuth backend URL (for building callback URLs sent to OAuth providers)
# Only needed in production where frontend and backend are on different domains
# In development, this is derived automatically from AUTH_OAUTH_REDIRECT_URI
# AUTH_OAUTH_BACKEND_URL=https://api.omoios.dev
AUTH_JWT_SECRET_KEY=601a3aad1cd0e00d3fbb9e1dd5b59cf68e388ab70d631d9bea2cac32c698f585
