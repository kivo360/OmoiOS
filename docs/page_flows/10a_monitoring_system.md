# Monitoring System

**Part of**: [Page Flow Documentation](./README.md)

**Design Reference**: System health dashboard with Guardian/Conductor status, trajectory analysis, and intervention management.

---

## Design Notes

| Element | Specification |
|---------|---------------|
| Background | Light gray #F8F9FA |
| Status Cards | 120px width, status color border |
| Alignment Bar | Gradient greenâ†’yellowâ†’red based on score |
| Intervention Card | White card with left border color by type |
| Trajectory Timeline | Vertical timeline with status dots |
| Header Indicator | ğŸ›¡ï¸ icon with status color, always visible |

---

### Flow 38: System Health Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PAGE: /health (System Health Dashboard)                     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Header: Logo | [Command] [Projects] [Agents]        â”‚   â”‚
â”‚  â”‚          [Analytics] | ğŸ›¡ï¸ | Search | Profile         â”‚   â”‚
â”‚  â”‚                        ^^^^ (Active - highlighted)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  System Health                       [Refresh] [âš™ï¸]  â”‚   â”‚
â”‚  â”‚  Real-time monitoring status                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Status Overview                                     â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”‚ Guardian â”‚  â”‚ Conductorâ”‚  â”‚ Agents   â”‚  â”‚ Overall  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸŸ¢ Activeâ”‚  â”‚ ğŸŸ¢ Activeâ”‚  â”‚ 5/5 OK   â”‚  â”‚ 94%      â”‚ â”‚
â”‚  â”‚  â”‚ 12s ago  â”‚  â”‚ 45s ago  â”‚  â”‚ 0 stuck  â”‚  â”‚ Health   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tabs: [Overview] [Trajectories] [Interventions]     â”‚   â”‚
â”‚  â”‚        [Insights] [Settings]                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Overview Tab (Default)                              â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Monitoring Loop Status:                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Last cycle: 12 seconds ago                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Cycle interval: 60 seconds                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Agents monitored: 5                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Trajectories analyzed: 5                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Interventions today: 3                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Avg alignment score: 78%                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Pattern matches: 2                         â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Agent Alignment Summary:                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ worker-1  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 85% âœ…        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ worker-2  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 72% âš ï¸        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ worker-3  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 91% âœ…        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ worker-4  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80% âœ…        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ worker-5  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 88% âœ…        â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Quick Actions:                                     â”‚   â”‚
â”‚  â”‚  [Pause All Monitoring] [Export Logs] [View Insights]â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Status Card States:**
- **Guardian**: ğŸŸ¢ Active / ğŸŸ¡ Paused / ğŸ”´ Error
- **Conductor**: ğŸŸ¢ Active / ğŸŸ¡ Analyzing / ğŸ”´ Conflict Detected
- **Agents**: X/Y OK (count of healthy vs total)
- **Overall**: Percentage health score (0-100%)

**Overview Tab Features:**
- Real-time monitoring loop metrics
- Agent alignment summary with visual bars
- Quick actions for common operations
- WebSocket updates every monitoring cycle

---

### Flow 39: Trajectory Analysis View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PAGE: /health/trajectories (or Trajectories Tab)           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tabs: [Overview] [Trajectories] [Interventions]     â”‚   â”‚
â”‚  â”‚        [Insights] [Settings]                         â”‚   â”‚
â”‚  â”‚                    ^^^^^^^^^^^^^ (Active)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Active Trajectory Analyses                          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Filter: [All â–¼] [On Track] [Drifting] [Critical]   â”‚   â”‚
â”‚  â”‚  Sort: [Alignment â–¼] [Last Check] [Agent Name]       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Agent: worker-1                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Status: âœ… On Track                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Alignment: 85% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Task: "Implement JWT authentication"           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Phase: PHASE_IMPLEMENTATION                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Last Check: 5 seconds ago                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Active Constraints (2):                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ "Use Node.js crypto module only"            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ "All endpoints must return JSON"            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Mandatory Steps: 3/4 completed                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â˜‘ Analyze requirements                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â˜‘ Create implementation plan                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â˜‘ Write core functionality                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â˜ Write tests                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [View Full Trajectory] [Send Intervention]    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Agent: worker-2                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Status: âš ï¸ Drifting                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Alignment: 72% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Task: "Add OAuth2 configuration"               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Phase: PHASE_IMPLEMENTATION                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Last Check: 8 seconds ago                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ âš ï¸ Drift Detected:                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Agent is working on test configuration        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ instead of OAuth2 setup                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Intervention: Auto-sending in 15s             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 15s remaining          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [View Full Trajectory] [Send Now] [Cancel]    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Agent: worker-3                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Status: âœ… On Track                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Alignment: 91% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ ...                                           â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Click "View Full Trajectory"
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MODAL: Full Trajectory Analysis                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Agent: worker-1 - Full Trajectory                   â”‚   â”‚
â”‚  â”‚                                                  [Ã—] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Alignment Over Time:                                â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  100% â”¤                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚   â”‚
â”‚  â”‚   90% â”¤              â•­â”€â”€â”€â”€â•¯                          â”‚   â”‚
â”‚  â”‚   80% â”¤         â•­â”€â”€â”€â•¯                                â”‚   â”‚
â”‚  â”‚   70% â”¤    â•­â”€â”€â”€â•¯   â† Intervention sent              â”‚   â”‚
â”‚  â”‚   60% â”¤â”€â”€â”€â•¯                                          â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€       â”‚   â”‚
â”‚  â”‚        10m  8m   6m   4m   2m   now                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Trajectory Timeline:                                â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â— 10m ago - Started task "Implement JWT"           â”‚   â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â— 8m ago - Analyzing requirements                  â”‚   â”‚
â”‚  â”‚  â”‚          Alignment: 75%                          â”‚   â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â— 6m ago - Writing code                            â”‚   â”‚
â”‚  â”‚  â”‚          Alignment: 68% âš ï¸                       â”‚   â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â— 4m ago - ğŸ›¡ï¸ Guardian intervention               â”‚   â”‚
â”‚  â”‚  â”‚          "Focus on core auth flow first"         â”‚   â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â— 2m ago - Adjusted approach                       â”‚   â”‚
â”‚  â”‚  â”‚          Alignment: 82% âœ…                       â”‚   â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  â— now - Testing implementation                     â”‚   â”‚
â”‚  â”‚          Alignment: 85% âœ…                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Constraint Tracking:                                â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Active Constraints:                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ 1. "Use Node.js crypto module only"          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚    Set: 10m ago â”‚ Violations: 0              â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚  â”‚ 2. "All endpoints must return JSON"          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚    Set: 8m ago â”‚ Violations: 0               â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  [Send Intervention] [Export Trajectory] [Close]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Trajectory Card Features:**
- Real-time alignment score with visual bar
- Current task and phase
- Active constraints list
- Mandatory steps checklist
- Drift detection with reason
- Auto-intervention countdown
- Quick actions (View Full, Send Intervention)

**Full Trajectory Modal:**
- Alignment over time chart
- Event timeline with interventions
- Constraint tracking history
- Export and intervention options

---

### Flow 40: Intervention Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PAGE: /health/interventions (or Interventions Tab)          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tabs: [Overview] [Trajectories] [Interventions]     â”‚   â”‚
â”‚  â”‚        [Insights] [Settings]                         â”‚   â”‚
â”‚  â”‚                              ^^^^^^^^^^^^^^^ (Active) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Intervention History                   [Export] [+]  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Summary:                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ 92%    â”‚  â”‚ 46     â”‚  â”‚ 2.3m   â”‚  â”‚ 4      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Successâ”‚  â”‚ Total  â”‚  â”‚ Avg    â”‚  â”‚ Failed â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Rate   â”‚  â”‚ Today  â”‚  â”‚ Recoveryâ”‚  â”‚        â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Filter: [All Types â–¼] [All Agents â–¼] [Today â–¼]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Today, 11:45 AM                    âœ… Success   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Agent: worker-2                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Type: Refocus                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Message:                                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ "Focus on core authentication flow first.     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  You appear to be implementing tests before   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  the core functionality is complete."         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Trigger: Alignment dropped to 45%             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Recovery: 2.1 minutes                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Alignment: 45% â†’ 85%                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [View Agent] [View Trajectory] [Copy Message] â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Today, 10:30 AM                    âœ… Success   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Agent: worker-1                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Type: Prioritize                               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Message:                                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ "Complete tests before moving on. The phase   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  instructions require tests for all new code."â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Trigger: Skipped mandatory step               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Recovery: 1.5 minutes                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Alignment: 68% â†’ 91%                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [View Agent] [View Trajectory] [Copy Message] â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Today, 09:15 AM                    âŒ Failed    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Agent: worker-4                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Type: Stop                                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Message:                                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ "Stop current path. You are violating the     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  constraint: 'no external auth libraries'"    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Trigger: Constraint violation detected        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Recovery: Failed after 5 minutes              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Alignment: 42% â†’ 38%                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ âš ï¸ Manual intervention required               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [View Agent] [Send Manual Intervention]       â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  [Load More...]                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Click [+] or "Send Manual Intervention"
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MODAL: Send Manual Intervention                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Send Intervention                              [Ã—]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Target Agent: [worker-4 â–¼]                          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Intervention Type:                                 â”‚   â”‚
â”‚  â”‚  â—‹ Prioritize - Focus on specific area             â”‚   â”‚
â”‚  â”‚  â— Refocus - Change direction                      â”‚   â”‚
â”‚  â”‚  â—‹ Stop - Halt current work                        â”‚   â”‚
â”‚  â”‚  â—‹ Add Constraint - Add new requirement            â”‚   â”‚
â”‚  â”‚  â—‹ Status Reminder - Request status update         â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Message:                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Stop using the 'jsonwebtoken' library.       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Use Node.js built-in crypto module instead.  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ The constraint "no external auth libraries"  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ was set at the start of this task.           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Preview:                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ [GUARDIAN INTERVENTION]                      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Stop using the 'jsonwebtoken' library...     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  [Cancel] [Send Intervention]                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Intervention Summary Cards:**
- Success rate percentage
- Total interventions today
- Average recovery time
- Failed interventions count

**Intervention History Features:**
- Filterable by type, agent, date
- Shows trigger reason and outcome
- Alignment before/after comparison
- Recovery time tracking
- Quick actions for follow-up

**Intervention Types:**
| Type | Icon | Description |
|------|------|-------------|
| Prioritize | ğŸ“Œ | Focus on specific area |
| Refocus | ğŸ¯ | Change direction |
| Stop | â›” | Halt current work |
| Add Constraint | â• | Add new requirement |
| Status Reminder | ğŸ“‹ | Request status update |

---

### Flow 41: Monitoring Configuration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PAGE: /health/settings (or Settings Tab)                    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tabs: [Overview] [Trajectories] [Interventions]     â”‚   â”‚
â”‚  â”‚        [Insights] [Settings]                         â”‚   â”‚
â”‚  â”‚                    ^^^^^^^^ (Active)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Monitoring Configuration                            â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Guardian Settings                             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Monitoring Cycle Interval:                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [60] seconds                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â„¹ï¸ How often Guardian analyzes trajectories   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Alignment Threshold:                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [70] %                                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â„¹ï¸ Below this, intervention is triggered     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Auto-Intervention:                           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Enabled                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â„¹ï¸ Automatically send interventions          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Intervention Delay:                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [0] seconds after threshold breach           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â„¹ï¸ Wait before sending intervention          â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Conductor Settings                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Coherence Check Interval:                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [120] seconds                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Duplicate Detection:                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Enabled                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Conflict Resolution:                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â— Auto  â—‹ Manual                             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Notification Preferences                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Alignment drops below threshold          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Intervention sent                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Agent stuck detected                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Constraint violation detected            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [ ] Every monitoring cycle completed         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Critical issues only                     â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Pattern Learning                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Enable adaptive threshold adjustment     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â„¹ï¸ System adjusts thresholds based on outcomesâ”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [âœ“] Share patterns across projects           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â„¹ï¸ Learn from other projects in organization â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Pattern retention:                           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [30] days                                    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  [Save Changes] [Reset to Defaults]                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Configuration Sections:**
- **Guardian Settings**: Cycle interval, alignment threshold, auto-intervention
- **Conductor Settings**: Coherence check interval, duplicate detection, conflict resolution
- **Notification Preferences**: Which events to be notified about
- **Pattern Learning**: Adaptive thresholds, cross-project learning, retention period

---

## API Endpoints

### System Health APIs

```
GET  /api/health/status           # Overall system health status
GET  /api/health/quick            # Quick popover data
GET  /api/health/overview         # Full overview tab data
GET  /api/health/trajectories     # All active trajectories
GET  /api/health/trajectories/:id # Single trajectory detail
GET  /api/health/interventions    # Intervention history
POST /api/health/interventions    # Send manual intervention
GET  /api/health/insights         # Pattern learning insights
GET  /api/health/settings         # Current monitoring config
PUT  /api/health/settings         # Update monitoring config
POST /api/health/pause            # Pause monitoring
POST /api/health/resume           # Resume monitoring
```

### WebSocket Events

```
MONITORING_CYCLE_COMPLETE    # Guardian completed analysis cycle
ALIGNMENT_CHANGED            # Agent alignment score changed
STEERING_ISSUED              # Intervention sent to agent
INTERVENTION_RESULT          # Intervention success/failure
TRAJECTORY_UPDATE            # Real-time trajectory update
COHERENCE_UPDATE             # Conductor analysis result
PATTERN_LEARNED              # New pattern stored
STUCK_DETECTED               # Agent appears stuck
CONSTRAINT_VIOLATION         # Agent violated constraint
```

### Response Examples

```python
# GET /api/health/status
Response:
{
    "guardian_status": "active",
    "guardian_last_cycle": "2024-01-15T10:30:12Z",
    "conductor_status": "active",
    "agents_total": 5,
    "agents_healthy": 5,
    "agents_drifting": 0,
    "agents_stuck": 0,
    "overall_health": 94,
    "avg_alignment": 78.4,
    "interventions_today": 3,
    "pattern_matches": 2
}

# GET /api/health/trajectories
Response:
{
    "trajectories": [
        {
            "agent_id": "worker-1",
            "alignment_score": 85,
            "status": "on_track",
            "task_name": "Implement JWT authentication",
            "phase": "PHASE_IMPLEMENTATION",
            "last_check": "2024-01-15T10:30:12Z",
            "constraints": [
                {"text": "Use Node.js crypto module only", "set_at": "..."},
                {"text": "All endpoints must return JSON", "set_at": "..."}
            ],
            "mandatory_steps": {
                "total": 4,
                "completed": 3,
                "steps": [...]
            },
            "drift_reason": null,
            "intervention_pending": false
        },
        ...
    ]
}

# POST /api/health/interventions
Request:
{
    "agent_id": "worker-4",
    "type": "refocus",
    "message": "Stop using the 'jsonwebtoken' library..."
}

Response:
{
    "intervention_id": "uuid",
    "status": "sent",
    "sent_at": "2024-01-15T10:35:00Z"
}
```

---

## Related Documentation

- [10_command_center.md](./10_command_center.md) - Command Center with Guardian indicator
- [03_agents_workspaces.md](./03_agents_workspaces.md) - Agent management and trajectory tabs
- [06_visualizations.md](./06_visualizations.md) - Activity timeline with intervention events
- [User Journey: Monitoring System](../user_journey/06a_monitoring_system.md) - User journey perspective

---

**Next**: See [README.md](./README.md) for complete documentation index.

