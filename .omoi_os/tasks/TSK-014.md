---
id: TSK-014
title: Implement unread count endpoint
status: pending
ticket_id: TKT-002
estimate: S
type: implementation
dependencies:
  depends_on:
    - TSK-010
  blocks: []
---

# TSK-014: Implement unread count endpoint

## Objective

Implement GET /api/v1/notifications/unread-count endpoint to get unread notification count.

## Context

Clients need to display notification badge counts without fetching all notifications.

## Deliverables

- [ ] Update `omoi_os/api/routes/notifications.py` with unread count endpoint

## Implementation Notes

```python
class UnreadCountResponse(BaseModel):
    count: int

@router.get("/unread-count", response_model=UnreadCountResponse)
async def get_unread_count(
    current_user: User = Depends(get_current_user),
    notification_service: NotificationService = Depends(get_notification_service),
):
    """Get unread notification count."""
    count = await notification_service.get_unread_count(current_user.id)
    return UnreadCountResponse(count=count)
```

## Acceptance Criteria

- [ ] GET endpoint at /api/v1/notifications/unread-count
- [ ] Returns count of unread notifications for authenticated user
- [ ] Efficient query (uses count, not fetching all notifications)
