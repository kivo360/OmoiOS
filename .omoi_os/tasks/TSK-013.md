---
id: TSK-013
title: Implement delete endpoint
status: pending
ticket_id: TKT-002
estimate: S
type: implementation
dependencies:
  depends_on:
    - TSK-010
  blocks: []
---

# TSK-013: Implement delete endpoint

## Objective

Implement DELETE /api/v1/notifications/{id} endpoint to soft-delete a notification.

## Context

Users may want to remove notifications they don't want to see.

## Deliverables

- [ ] Update `omoi_os/api/routes/notifications.py` with delete endpoint

## Implementation Notes

```python
from fastapi import status

@router.delete("/{notification_id}", status_code=status.HTTP_204_NO_CONTENT)
async def delete_notification(
    notification_id: UUID,
    current_user: User = Depends(get_current_user),
    notification_service: NotificationService = Depends(get_notification_service),
):
    """Delete a notification."""
    success = await notification_service.delete_notification(notification_id, current_user.id)

    if not success:
        raise HTTPException(status_code=404, detail="Notification not found")

    return None
```

## Acceptance Criteria

- [ ] DELETE endpoint at /api/v1/notifications/{id}
- [ ] Soft-deletes notification (sets deleted_at)
- [ ] Returns 404 if notification doesn't exist or belongs to different user
- [ ] Returns 204 No Content on success
- [ ] Deleted notifications excluded from list queries
