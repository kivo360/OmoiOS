---
id: TSK-001
title: Create WebSocket Pydantic models
status: pending
parent_ticket: TKT-003
estimate: S
created: 2026-01-08
type: implementation
dependencies:
  depends_on: []
  blocks:
    - TSK-002
---

# TSK-001: Create WebSocket Pydantic Models

## Objective

Define Pydantic models for WebSocket messages, connection state, and subscription filters.

## Context

The WebSocket infrastructure requires strongly-typed models for all message types to ensure type safety and proper serialization. These models will be used throughout the WebSocket layer.

## Deliverables

- [ ] `backend/omoi_os/api/websocket/models.py` - All Pydantic models

## Implementation Notes

Models to create:
```python
# Enums
class AgentStatus(str, Enum)
class MessageType(str, Enum)
class EncodingType(str, Enum)

# Base message
class WebSocketMessage(BaseModel)
class AgentStatusEvent(WebSocketMessage)
class ProgressUpdateEvent(WebSocketMessage)
class TerminalOutputEvent(WebSocketMessage)

# Client messages
class SubscribeMessage(WebSocketMessage)
class SubscriptionFilters(BaseModel)

# Connection state
class ConnectionInfo(BaseModel)
```

## Acceptance Criteria

- [ ] All models have proper type hints and Field descriptions
- [ ] Enums include all required values (AgentStatus, MessageType)
- [ ] ConnectionInfo model matches Redis state schema
- [ ] Models pass Pydantic validation tests
- [ ] JSON schema generation works for all models

## Dependencies

**Depends On**: None

**Blocks**: TSK-002 (Connection Manager)

## Estimate

**Size**: S (< 2 hours)
